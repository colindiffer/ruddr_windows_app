<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ruddr Time Tracker &mdash; Settings</title>
  <link rel="stylesheet" href="../styles/shared.css">
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <!-- Custom title bar -->
  <div id="titleBar">
    <span class="title-text">Settings</span>
    <div class="window-controls">
      <button id="minimizeBtn" class="win-btn" title="Minimize">&#x2014;</button>
      <button id="closeBtn" class="win-btn win-btn-close" title="Close">&#x2715;</button>
    </div>
  </div>

  <div class="options-container">
    <!-- Account -->
    <section class="card">
      <h2>Account</h2>
      <div class="logged-in-badge">
        <div class="logged-in-info">
          <span class="logged-in-name" id="memberName">â€”</span>
          <span class="logged-in-email" id="memberEmail"></span>
        </div>
        <button id="logoutBtn" class="btn-danger btn-small">Log Out</button>
      </div>
    </section>

    <!-- Startup -->
    <section class="card">
      <h2>Startup</h2>
      <div class="field">
        <label class="toggle-label">
          <input type="checkbox" id="autoStartEnabled">
          <span class="toggle-switch"></span>
          Launch at Windows startup
        </label>
      </div>
    </section>

    <!-- Reminders -->
    <section id="reminderSection" class="card">
      <h2>Reminders</h2>

      <div class="field">
        <label class="toggle-label">
          <input type="checkbox" id="endOfDayEnabled" checked>
          <span class="toggle-switch"></span>
          End-of-day reminder
        </label>
      </div>

      <div id="endOfDayOptions" class="reminder-sub-options">
        <div class="field-row">
          <div class="field flex-1">
            <label for="endOfDayTime">Time</label>
            <input type="time" id="endOfDayTime" value="17:00">
          </div>
          <div class="field flex-1">
            <label for="endOfDayMinHours">Minimum hours</label>
            <input type="number" id="endOfDayMinHours" value="7" min="0" max="24" step="0.5">
          </div>
        </div>
      </div>

      <div class="field" style="margin-top: 14px;">
        <label class="toggle-label">
          <input type="checkbox" id="periodicEnabled" checked>
          <span class="toggle-switch"></span>
          Periodic nudges
        </label>
      </div>

      <div id="periodicOptions" class="reminder-sub-options">
        <div class="field">
          <label for="periodicInterval">Every (hours)</label>
          <input type="number" id="periodicInterval" value="2" min="0.5" max="8" step="0.5">
        </div>
        <div class="field-row">
          <div class="field flex-1">
            <label for="workStart">Work start</label>
            <input type="time" id="workStart" value="09:00">
          </div>
          <div class="field flex-1">
            <label for="workEnd">Work end</label>
            <input type="time" id="workEnd" value="17:00">
          </div>
        </div>
      </div>

      <div class="field" style="margin-top: 14px;">
        <button id="saveRemindersBtn" class="btn-primary">Save Reminder Settings</button>
        <span id="reminderSaveStatus" class="status-msg"></span>
      </div>
    </section>
  </div>

  <div id="toast" class="toast"></div>

  <script type="module" src="options.js"></script>
</body>
</html>
